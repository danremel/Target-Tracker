<div class="row">
  <div class="col-xs-12">
    <div class="well">
      <div *ngIf="target !== undefined; else noTarget">
        <!-- Target Details Display -->
        <div *ngIf="!editing">
          <button class="btn btn-default pull-right" (click)="onEditTarget()"><i class="glyphicon glyphicon-pencil"></i></button>
          <h4>{{ target.compName }}</h4>
          <p><strong>Address: </strong>{{ target.compAddress }}</p>
          <p><strong>Date of First Contact: </strong>{{ target.dateFirstContact | date }}</p>
          <p><strong>Days Since First Contact: </strong>{{ target.daysSinceFirstContact }}</p>
          <p><strong>Industry: </strong>{{ target.industry }}</p>
          <p><strong>Website: </strong><a href="{{ target.website }}">{{ target.website }}</a></p>
          <p><strong>Type: </strong>{{ target.type }}</p>
          <p><strong>Revenue: </strong>{{ target.revenue }}</p>
          <p><strong>Status: </strong>{{ target.status }}</p>
          <p><strong>Key Contacts: </strong>
            <a *ngIf="!addingContact" (click)="onToggleContactForm()"><i class="glyphicon glyphicon-plus"></i> Add a Contact</a>
            <a *ngIf="addingContact" (click)="onToggleContactForm()"><i class="glyphicon glyphicon-minus"></i> Close</a>
          </p>
          <!-- New Contact Form -->
          <div *ngIf="addingContact">
            <div class="form-group">
              <label for="cName">Name:</label>
              <input 
              type="text" class="form-control"
              #contactName>
            </div>
              <div class="form-group">
                <label for="cPhone">Phone Number:</label>
                <input 
                type="text" class="form-control"
                #contactPhone>
              </div>
              <div class="form-group">
                <label for="cEmail">Email Address:</label>
                <input 
                type="text" class="form-control"
                #contactEmail>
              </div>
              <div class="form-group">
                <label for="cRole">Role:</label>
                <input 
                type="text" class="form-control"
                #contactRole>
              </div>
              <button 
              class="btn btn-primary btn-sm"
              (click)="onAddContact()">
              <i class="glyphicon glyphicon-plus"></i> Add Contact
            </button>
          </div>
          <!-- END New Contact Form -->

          <!-- Contact Component -->
          <app-contact
            *ngFor="let contact of contacts; let i = index"
            [contact]="contact"
            [id]="i"
            (click)="onSelectContact(i)">
          </app-contact>
          <!-- END Contact Component -->

        </div>
        <!-- END Target Details Display -->
        
        <!-- Edit Target Details (NOT Contacts) -->
        <div *ngIf="editing">
          <input 
            type="text" class="form-control"
            placeholder="Company Name"
            [(ngModel)]="editCompName">
          <input 
            type="text" class="form-control"
            placeholder="Address"
            [(ngModel)]="editCompAddress">
          <input 
            type="date" class="form-control"
            placeholder="Date of First Contact"
            [(ngModel)]="editDateFirstContact">
          <p><strong>Days Since First Contact: </strong>--</p>
          <input 
            type="text" class="form-control"
            placeholder="Industry"
            [(ngModel)]="editIndustry">
          <input 
            type="text" class="form-control"
            placeholder="Company Website"
            [(ngModel)]="editWebsite">
          <input 
            type="text" class="form-control"
            placeholder="Company Type"
            [(ngModel)]="editType">
          <input 
            type="text" class="form-control"
            placeholder="Revenue"
            [(ngModel)]="editRevenue">
          <select 
            type="text" class="form-control"
            placeholder="Status"
            [(ngModel)]="editStatus">
            <option disabled value="">-- Select a Status --</option>
            <option *ngFor="let status of statuses">{{ status }}</option>
          </select>

          <div class="btn-group">
            <button class="btn btn-default" (click)="onCancelEdit()"><i class="glyphicon glyphicon-ban-circle"></i></button>
            <button class="btn btn-success" (click)="onSaveTarget()"><i class="glyphicon glyphicon-ok"></i></button>
          </div>
        </div>
        <!-- END Edit Target Details -->
    </div>
    
    <!-- If No Target is selected -->
    <ng-template #noTarget>
      <h4 class="text-center">Select a Target</h4>
    </ng-template>
  </div>
</div>